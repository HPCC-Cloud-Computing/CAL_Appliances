{% extends 'user/dashboard/adminlte_lib/base.html' %}
{% load staticfiles %}
{% block extra_head %}

    <link href="{% static 'user/dashboard/css/base.css' %}"
          rel="stylesheet" type="text/css">
    <!-- Font Awesome -->
    <link rel="stylesheet"
          href="{% static 'bower_components/bootstrap/dist/css/bootstrap.min.css' %}">
    {#    <link href="{% static 'user/dashboard/css/jquery.dataTables.min.css' %}"#}
    {#          rel="stylesheet" type="text/css">#}
    <!-- Font Awesome -->
    <link rel="stylesheet"
          href="{% static 'bower_components/font-awesome/css/font-awesome.min.css' %}">
    <!-- Ionicons -->
    <link rel="stylesheet"
          href="{% static 'bower_components/Ionicons/css/ionicons.min.css' %}">
    <link rel="stylesheet"
          href="{% static 'bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css' %}">
    <link rel="stylesheet"
          href="{% static 'user_dashboard/base.css' %}">

    {% block custom_styles %}
    {% endblock %}
{% endblock %}
{% block bodyclass %}
    {#    skin-black-light fixed#}
    skin-purple-light fixed
{% endblock %}
{% block nav_header %}
    {% include 'user/dashboard/lib/_main_header.html' %}
{% endblock %}
{% block nav_sidebar %}
    {% include 'user/dashboard/lib/_main_sidebar.html' %}
{% endblock %}
{% block content_wrapper %}
    <div class="content-wrapper">
        <div class="col-md-4"
             style="z-index: 1050; position: absolute;top:55px;right:50px;"
             id="alert-message-box">
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{{ message.extra_tags }} alert-dismissable">
                        <a href="#" class="close" data-dismiss="alert"
                           aria-label="close">×</a>
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
            {#        <div class="alert alert-success alert-dismissable">#}
            {#            <a href="#" class="close" data-dismiss="alert"#}
            {#               aria-label="close">×</a>#}
            {#            Create account ring successful!#}
            {#        </div>#}
        </div>
        {% block content_header %}
            {#            <section class="content-header">#}
            {#                <h1>#}
            {#                    {% block page_name %}{% endblock %}#}
            {#                    {% block no_description %}#}
            {#                        <small>#}
            {#                            {% block page_description %}{% endblock %}</small>#}
            {#                    {% endblock %}#}
            {#                </h1>#}
            {#                {% block breadcrumbs %}#}
            {#                    Breadcrumb implementation left to developers#}
            {#                {% endblock %}#}
            {#            </section>#}
        {% endblock %}

        {% block content_outer %}
            <section class="content">
                {% block messages %}
                    {% include 'adminlte/lib/_messages.html' %}
                {% endblock %}

                {% block content_block_wrap %}
                    {% block content %}{% endblock %}
                {% endblock %}
            </section>
        {% endblock %}

    </div>
{% endblock content_wrapper %}


{% block nav_footer %}
    {% include 'user/dashboard/lib/_main_footer.html' %}
{% endblock %}

{% block javascript %}
    <script src="{% static "bower_components/jquery/dist/jquery.min.js" %} "></script>
    {#        <script src="{% static "user/dashboard/js/jquery-ui.min.js" %}"></script>#}
    {#        <!-- Resolve conflict in jQuery UI with Bootstrap -->#}
    {#        <script>#}
    {#            $.widget.bridge('uibutton', $.ui.button);#}
    {#        </script>#}
    <script src="{% static "user_dashboard/js.cookie.js" %}"></script>
    <script type="text/javascript">
        let csrftoken = Cookies.get("csrftoken");
        function csrfSafeMethod(method) {
            // these HTTP methods do not require CSRF protection
            return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
        }
        $.ajaxSetup({
            beforeSend: function (xhr, settings) {
                if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                    xhr.setRequestHeader("X-CSRFToken", csrftoken);
                }
            }
        });
    </script>


    <script src="{% static "bootstrap/dist/js/bootstrap.min.js" %} "></script>
    <script src="{% static "user/dashboard/js/jquery.dataTables.min.js" %}"></script>
    <script src="{% static "bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js" %}"></script>
    <script src="{% static "bower_components/jquery-slimscroll/jquery.slimscroll.min.js" %} ">
    </script>
    {#    <script src="{% static "admin-lte/dist/js/app.min.js" %}"></script>#}
    <script src="{% static "bower_components/fastclick/lib/fastclick.js" %} "></script>
    <script src="{% static "dist/js/adminlte.min.js" %}"></script>
    {#    <script src="{% static "dist/js/adminlte.min.js" %}"></script>#}

    <script src="{% static "admin-lte/dist/js/app.min.js" %}"></script>
    <script>
        $(document).ready(function () {
            $.ajax({
                url: $("#admin-quick-access").data('check-role-api'),
                type: 'GET',
            })
                .done(function (data) {
                    console.log(data);
                    let account_role = data['role'];
                    if(account_role==='admin'){
                        $("#admin-quick-access").show();
                    }
                })

            // end document ready
        });
    </script>
    <!-- AdminLTE App -->
    <!-- AdminLTE for demo purposes -->
    {% block user_javascript %}
    {% endblock %}
{% endblock %}
